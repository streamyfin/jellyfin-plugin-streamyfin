<div data-role="page" class="page type-interior pluginConfigurationPage withTabs"
     data-require="emby-button,emby-select,emby-checkbox"
     data-controller="__plugin/Notifications.js">
    <div class="content-primary" style="max-width: 53em; height: 100%">
        <div class="verticalSection">
            <div class="sectionTitleContainer">
                <h1 class="sectionTitle">Streamyfin</h1>
            </div>
            <div class="sectionTitleContainer">
                <h2 class="sectionTitle">Notifications</h2>
            </div>
        </div>

        <p>
            These are jellyfin events as notifications for your android or ios device.<br><br>
            <span style="color: orange">
                If you need more extensibility, 
                like consuming webhook from an external service, 
                checkout the more advanced documentation 
                <a style="color: inherit !important;" target="_blank"
                   href="https://github.com/streamyfin/jellyfin-plugin-streamyfin/blob/main/NOTIFICATIONS.md">
                    NOTIFICATION.md
                </a><br><br>
                
                Notification endpoint<br>
                <code style="font-size: 1.25em" id="notification-endpoint"></code>
            </span>
        </p>

        <fieldset class="verticalSection-extrabottompadding">
            <legend>Item Added</legend>
            <div class="checkboxContainer checkboxContainer-withDescription">
                <label class="emby-checkbox-label">
                    <input id="item-added-enabled" data-key-name="itemAdded" data-prop-name="enabled" type="checkbox" is="emby-checkbox"/>
                    <span class="checkboxLabel">Enabled</span>
                </label>
                <div class="fieldDescription">
                    If enabled, all users will be notified when new movies or episodes are available.
                    <br>
                    <br>
                    This notification consolidates the amount of episodes added for a season into one notification if possible to prevent spam.
                </div>
            </div>
            <p>Enabled Libraries</p>
            <div class="fieldDescription">
                Restrict notifications to specific libraries or leave <strong>ALL</strong> unchecked to provide no restriction.
            </div>
            <input id="hidden-library-input" type="hidden" data-key-name="itemAdded" data-prop-name="enabledLibraries" data-is-array="true"/>
            <div id="item-library-container" class="checkboxContainer checkboxContainer-withDescription" style="margin-top: 16px">
            </div>
            <div class="inputContainer">
                <label class="inputLabel inputLabelUnfocused" for="item-added-threshold">Recent Event Threshold</label>
                <input id="item-added-threshold" data-key-name="itemAdded" data-prop-name="recentEventThreshold" min="0" type="number" is="emby-input">
                <div class="fieldDescription">
                    How long we want to wait in seconds until allowing a duplicate event from being processed
                </div>
            </div>
        </fieldset>

        <fieldset class="verticalSection-extrabottompadding">
            <legend>Session Started</legend>
            <div class="checkboxContainer checkboxContainer-withDescription">
                <label class="emby-checkbox-label">
                    <input id="session-started-enabled" data-key-name="sessionStarted" data-prop-name="enabled" type="checkbox" is="emby-checkbox"/>
                    <span class="checkboxLabel">Enabled</span>
                </label>
                <div class="fieldDescription">If enabled, admins will be notified when users are online</div>
            </div>
            <div class="inputContainer">
                <label class="inputLabel inputLabelUnfocused" for="session-started-threshold">Recent Event Threshold</label>
                <input id="session-started-threshold" data-key-name="sessionStarted" data-prop-name="recentEventThreshold" type="number" min="0" is="emby-input">
                <div class="fieldDescription">
                    How long we want to wait in seconds until allowing a duplicate event from being processed
                </div>
            </div>
        </fieldset>

        <fieldset class="verticalSection-extrabottompadding">
            <legend>Playback Started</legend>
            <div class="checkboxContainer checkboxContainer-withDescription">
                <label class="emby-checkbox-label">
                    <input id="playback-started-enabled" data-key-name="playbackStarted" data-prop-name="enabled" type="checkbox" is="emby-checkbox"/>
                    <span class="checkboxLabel">Enabled</span>
                </label>
                <div class="fieldDescription">If enabled, admins will be notified when users begin to play media</div>
            </div>
            <div class="inputContainer">
                <label class="inputLabel inputLabelUnfocused" for="playback-started-threshold">Recent Event Threshold</label>
                <input id="playback-started-threshold" data-key-name="playbackStarted" data-prop-name="recentEventThreshold" type="number" min="0" is="emby-input">
                <div class="fieldDescription">
                    How long we want to wait in seconds until allowing a duplicate event from being processed
                </div>
            </div>
        </fieldset>

        <fieldset class="verticalSection-extrabottompadding">
            <legend>User locked out</legend>
            <div class="checkboxContainer checkboxContainer-withDescription">
                <label class="emby-checkbox-label">
                    <input id="user-locked-enabled" data-key-name="userLockedOut" data-prop-name="enabled" type="checkbox" is="emby-checkbox"/>
                    <span class="checkboxLabel">Enabled</span>
                </label>
                <div class="fieldDescription">If enabled, admins & locked user will be notified when users requires a reset</div>
            </div>
            <div class="inputContainer">
                <label class="inputLabel inputLabelUnfocused" for="user-locked-threshold">Recent Event Threshold</label>
                <input id="user-locked-threshold" data-key-name="userLockedOut" data-prop-name="recentEventThreshold" type="number" min="0" is="emby-input">
                <div class="fieldDescription">
                    How long we want to wait in seconds until allowing a duplicate event from being processed
                </div>
            </div>
        </fieldset>

        <div id="config-layout">
            <button id="save-notification-btn" is="emby-button" type="submit" class="raised button-submit block">
                <span>Save</span>
            </button>
        </div>
    </div>
</div>